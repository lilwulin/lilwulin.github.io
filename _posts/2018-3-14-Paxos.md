---
layout: post
title: 帕索斯岛上的议会
---

一个爱琴海上的小岛城邦，一群不务正业的议员和信使，是怎样通过一个协议使得议会能够正常运转的？这个情景来自于[Leslie Lamport](https://en.wikipedia.org/wiki/Leslie_Lamport)1989年写就的一篇著名论文[*The Part-Time Parliament*](https://lamport.azurewebsites.net/pubs/lamport-paxos.pdf)。在这篇博文里，我们一起了解一下Paxos有趣的背景故事，以及学习它的运作过程。

## 背景故事
最初的论文虚构了Paxos这样一个古代希腊城邦，以及介绍了以它名字命名的一致性协议算法。整个情景是这样的：因为要外出做生意，议会里面的议员们并非全职工作，他们可能待了一阵又要离开，或者要去休假，或者再也不回来（服务器宕机、重启）。议员们说话很小声，所以要把要说的话写在纸片上让信使传递给其他议员。信使同样也不务正业，可能中途离开去出海，个把月再回来，或者把信弄丢，寄重复（网络包丢失、重复、超时）。各个议员手持一张羊皮纸，记录下通过的法令（Replicated log)。Paxos的整个议会在一群数学家设计的协议下正常运转。

这篇论文的发表也是一个有趣的故事，Leslie Lamport本人记录下了这段[野史](http://lamport.azurewebsites.net/pubs/pubs.html#lamport-paxos)。作者在论文里假装考古学家，借用希腊字母和夹杂着几分冷幽默，于是后来很多人抱怨这篇论文晦涩难懂。因此在2001年Leslie又发表了[*Paxos Made Simple*](https://lamport.azurewebsites.net/pubs/paxos-simple.pdf)。第二篇论文直截了当地描述了Paxos的运作过程，展示了Paxos原本的简洁设计，不过也丢失了一些趣味性和数学证明。

## 单值Paxos

## 多值Paxos

## 引用材料

#新坑待填